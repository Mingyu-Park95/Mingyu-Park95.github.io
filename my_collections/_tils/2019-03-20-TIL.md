---
title: 190320 TIL
---

## 오늘 한 일

- 성공과 실패를 좌우하는 1%네트워크 원리 정독
    - 10시 기상


## 알게 된 것
- 프로토콜 스택의 TCP/IP관련
    - 개략적인 프로토콜 스택의 구조 TCP, IP, ARP, ICMP
    - 소켓 생성시 발생하는 일 socket
        - 통신에 관련된 정보 저장
        - 디스크립터를 어플리케이션에게 알림
        - 소켓 메모리에는 아무것도 없는 상태
    - 접속 (웹 기준) connect (디스크립터, 수신측 ip,포트번호)
        - 소켓이 만들어진 직후 데이터를 바로 전송할 수는 없고 서로 연결하기 위한 **접속=커넥트**과정이 필요하다.
        - 접속 과정에서 제어 정보를 주고 받는다 
            - 송신측과 수신측이 주고 받는 제어정보 (TCP헤더)
            - 프로토콜 스택이 소켓에 저장하는 제어정보
        -송신, 수신측에서 보내는 정보
            - 송신측의 ip,포트번호,SYN(시퀀스 값),윈도우(가용 버퍼 메모리 크기)
                - SYN 시퀀스번호(난수 초기값=>난수가 아닌 경우 공격 받을 수 있다.)
                    - TCP/IP에서는 데이터를 일정 크기로 나누어 보내기 때문에 사용 
                    - 분할 되기 전 데이터의 바이트를 세어 이를 나타냄
                    - 
            - 프로토콜 스택이 소켓에 저장하는 제어정보(어플리케이션으로부터 받은 정보,통신하는 상대의 정보)
    - 통신 write  
        - 버퍼 공간 확보
            - 버퍼가 크면 대기시간이 길어진다
            - 버퍼가 작으면 전송을 많이 함
        - 데이터가 잘 전송 되었는지 확인 ACK을 이용
            - 하나의 패킷에 매번 ACK을 보내는 핑퐁
            -       

## 느낀점

## 내일 할일


## 더 알아 볼 것
- SYN 난수 값으로 주면 수신하는 측에서 어떻게 이해하지?
- 매 송신 때마다 SYN 번호를 보내나
    - 매 송신 때 마다 보낸다 
    - 접속시에는 SYN비트를 1로하여, 초기값을 보내고 
    - 데이터 송신시에는 SYN비트를 1로 하지 않고 시퀀스 번호만 보내는 것 **같다**